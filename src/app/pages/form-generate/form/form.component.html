<section class="form-container" [formGroup]="form">
    <ngb-accordion activeIds="config-panel-one">
        <!-- grid general info -->
        <ngb-panel title="Grid properties" id="config-panel-one">
            <ng-template ngbPanelContent>
                <div formGroupName="columnGap" class="input-group">
                    <input class="form-control" placeholder="column gap" formControlName="size" type="number">
                    <select class="form-control" formControlName="units">
                        <option *ngFor="let item of unitsGap" [value]="item" placeholder="'select units'">
                            {{item}}
                        </option>
                    </select>
                </div>
                <div formGroupName="rowGap" class="input-group">
                    <input class="form-control" placeholder="row gap" formControlName="size" type="number">
                    <select class="form-control" formControlName="units">
                        <option *ngFor="let item of unitsGap" [value]="item" placeholder="'select units'">
                            {{item}}
                        </option>
                    </select>
                </div>
                <div formGroupName="gridAlignement" class="input-group">
                    <div class="input-group wide">
                        <label for="alignementVertical">Align Items</label>
                        <select class="form-control" formControlName="vertical" id="alignementVertical">
                            <option *ngFor="let item of alignement" [value]="item" placeholder="'select units'">
                                {{item}}
                            </option>
                        </select>
                    </div>
                    <div class="input-group wide">
                        <label for="alignementVertical">Justify Items</label>
                        <select class="form-control" formControlName="horizontal">
                            <option *ngFor="let item of alignement" [value]="item" placeholder="'select units'">
                                {{item}}
                            </option>
                        </select>
                    </div>
                </div>
            </ng-template>
        </ngb-panel>
        <!-- grid tracks -->
        <ngb-panel title="Grid tracks">
            <ng-template ngbPanelContent>
                <div class="form-array-group">
                    <div class="form-array-group__group" formArrayName="columns"
                        *ngFor="let item of form.get('columns')['controls']; let i = index">
                        <div class="input-group--title">Column {{i}}</div>
                        <div [formGroupName]="i" class="input-group">
                            <input class="form-control" placeholder="Size" formControlName="width" type="number">

                            <select class="form-control" formControlName="units">
                                <option *ngFor="let item of units" [value]="item" placeholder="'select units'">
                                    {{item}}
                                </option>
                            </select>
                            <div class="input-group-append">
                                <button class="btn btn-danger" (click)="deleteItem(i, 'columns')">Delete</button>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-sm add-button" (click)="addItem('columns')">Add column</button>
                </div>
                <hr>
                <div class="form-array-group">
                    <div class="form-array-group__group" formArrayName="columns"
                        *ngFor="let item of form.get('rows')['controls']; let i = index">
                        <div class="input-group--title">Row {{i}}</div>
                        <div [formGroupName]="i" class="input-group">
                            <input class="form-control" placeholder="Size" formControlName="width" type="number">

                            <select class="form-control" formControlName="units">
                                <option *ngFor="let item of units" [value]="item" placeholder="'select units'">
                                    {{item}}
                                </option>
                            </select>
                            <div class="input-group-append">
                                <button class="btn btn-danger" (click)="deleteItem(i, 'rows')">Delete</button>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-sm add-button" (click)="addItem('rows')">Add row</button>
                </div>
            </ng-template>
        </ngb-panel>
        <!-- grid content setup -->
        <ngb-panel title="Grid content">
            <ng-template ngbPanelContent>
                <div class="form-array-group">
                    <div class="form-array-group__group" formArrayName="content"
                        *ngFor="let item of form.get('content')['controls']; let i = index">
                        <div class="input-group--title">Content {{i}}</div>
                        <div [formGroupName]="i" class="input-group">
                            <div class="input-group">
                                <input class=" form-control" placeholder="container name"
                                    formControlName="containerName" type="text">
                            </div>
                            <div class="input-group">
                                <input class="form-control" placeholder="column start"
                                    formControlName="containerColStart" type="text">

                                <input class="form-control" placeholder="column end" formControlName="containerColEnd"
                                    type="text">
                            </div>
                            <div class="input-group">

                                <input class="form-control" placeholder="row start" formControlName="containerRowStart"
                                    type="text">

                                <input class="form-control" placeholder="row end" formControlName="containerRowEnd"
                                    type="text">
                            </div>
                            <button class="btn btn-danger" (click)="deleteItem(i, 'content')">Delete</button>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-sm add-button" (click)="addContent('content')">Add content
                        block</button>
                </div>
            </ng-template>
        </ngb-panel>
    </ngb-accordion>

    <!-- save config  -->
    <div class="input-group">
        <button class="btn btn-primary add-button" (click)="onSubmit()">Save all</button>
        <button class="btn btn-danger add-button" (click)="onReset()">Clear</button>
    </div>
</section>